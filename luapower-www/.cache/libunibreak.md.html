<h2 id="local-ub-requirelibunibreak"><code>local ub = require'libunibreak'</code></h2>
<p>A ffi binding to <a href="http://vimgadgets.sourceforge.net/libunibreak/">libunibreak</a>, a C library implementing the <a href="http://www.unicode.org/reports/tr14/">Unicode Line Breaking Algorithm</a> and word breaking from <a href="http://www.unicode.org/reports/tr29/">Unicode Text Segmentation</a>.</p>
<h2 id="line-breaking">Line breaking</h2>
<h3 id="ub.linebreaksslenlangout---line_breaks"><code>ub.linebreaks(s,[len],[lang],[out]) -&gt; line_breaks</code></h3>
<p><code>lang</code> can be one of:</p>
<ul>
<li><code>'de'</code>: German</li>
<li><code>'en'</code>: English</li>
<li><code>'es'</code>: Spanish</li>
<li><code>'fr'</code>: French</li>
<li><code>'ja'</code>: Japanese</li>
<li><code>'ko'</code>: Korean</li>
<li><code>'ru'</code>: Russian</li>
<li><code>'zh'</code>: Chinese</li>
</ul>
<p>â€¦with or without the <code>'-strict'</code> suffix (see <a href="http://www.unicode.org/reports/tr14/">CJ section on ULBA</a>).</p>
<p>The returned <code>line_breaks</code> is a 0-based array of flags, one for each byte of the input string:</p>
<ul>
<li><code>0</code>: Break is mandatory.</li>
<li><code>1</code>: Break is allowed.</li>
<li><code>2</code>: No break is possible.</li>
</ul>
<h2 id="word-breaking">Word breaking</h2>
<h3 id="ub.wordbreaksslenlangout---word_breaks"><code>ub.wordbreaks(s,[len],[lang],[out]) -&gt; word_breaks</code></h3>
<p>The returned <code>word_breaks</code> is a 0-based array of flags, one for each byte of the input string:</p>
<ul>
<li><code>0</code>: Break is allowed.</li>
<li><code>1</code>: No break is allowed.</li>
</ul>
<h2 id="grapheme-breaking">Grapheme breaking</h2>
<h3 id="ub.graphemebreaksslenlangout---grapheme_breaks"><code>ub.graphemebreaks(s,[len],[lang],[out]) -&gt; grapheme_breaks</code></h3>
<p>The returned <code>grapheme_breaks</code> is a 0-based array of flags, one for each byte of the input string:</p>
<ul>
<li><code>0</code>: Break is allowed.</li>
<li><code>1</code>: No break is allowed.</li>
</ul>
