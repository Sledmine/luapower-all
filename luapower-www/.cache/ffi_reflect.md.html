<blockquote>
<p><strong>NOTE</strong>: This is a fork of the reflect module by Peter Cawley, developed <a href="https://github.com/corsix/ffi-reflect">here</a>.</p>
</blockquote>
<p>Quick examples:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode lua"><code class="sourceCode lua"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">local</span> ffi <span class="op">=</span> <span class="fu">require</span> <span class="st">&quot;ffi&quot;</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="kw">local</span> reflect <span class="op">=</span> <span class="fu">require</span> <span class="st">&quot;ffi_reflect&quot;</span></span>
<span id="cb1-3"><a href="#cb1-3"></a></span>
<span id="cb1-4"><a href="#cb1-4"></a>ffi<span class="op">.</span>cdef <span class="st">&#39;int sc(const char*, const char*) __asm__(&quot;strcmp&quot;);&#39;</span></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="fu">print</span><span class="op">(</span>reflect<span class="op">.</span>typeof<span class="op">(</span>ffi<span class="op">.</span><span class="cn">C</span><span class="op">.</span>sc<span class="op">).</span>sym_name<span class="op">)</span> <span class="co">--&gt; &quot;strcmp&quot;</span></span>
<span id="cb1-6"><a href="#cb1-6"></a></span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="cf">for</span> refct <span class="kw">in</span> reflect<span class="op">.</span>typeof<span class="st">&quot;int(*)(int x, int y)&quot;</span><span class="op">.</span>element_type<span class="op">:</span>arguments<span class="op">()</span> <span class="cf">do</span></span>
<span id="cb1-8"><a href="#cb1-8"></a>  <span class="fu">print</span><span class="op">(</span>refct<span class="op">.</span>name<span class="op">)</span></span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="cf">end</span> <span class="co">--&gt; x, y</span></span>
<span id="cb1-10"><a href="#cb1-10"></a></span>
<span id="cb1-11"><a href="#cb1-11"></a>t <span class="op">=</span> <span class="op">{}</span></span>
<span id="cb1-12"><a href="#cb1-12"></a><span class="fu">assert</span><span class="op">(</span>reflect<span class="op">.</span>getmetatable<span class="op">(</span>ffi<span class="op">.</span>metatype<span class="op">(</span><span class="st">&quot;struct {}&quot;</span><span class="op">,</span> t<span class="op">))</span> <span class="op">==</span> t<span class="op">)</span></span></code></pre></div>
<p>For the full API reference, see <a href="http://corsix.github.io/ffi-reflect/">http://corsix.github.io/ffi-reflect/</a>.</p>
