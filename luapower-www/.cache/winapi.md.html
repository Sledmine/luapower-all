<h2 id="scope">Scope</h2>
<p>Windows, common controls and dialogs, message loop and system APIs.</p>
<h2 id="features">Features</h2>
<ul>
<li>UTF8 Lua strings everywhere (also works with wide char buffers)</li>
<li>bitmap widget for custom painting</li>
<li>OpenGL and cairo custom-painting widgets (in separate packages)</li>
<li>anchor-based layout model for all controls</li>
<li>object system with virtual properties (<code>win.title = 'hello'</code> sets the title)</li>
<li>binding helpers for easy binding of new and future APIs</li>
<li>all calls are error-checked</li>
<li>automatic memory management (ownership; buffers)</li>
<li>flags can be passed as <code>'FLAG1 FLAG2'</code></li>
<li>counting from 1 everywhere.</li>
</ul>
<h2 id="status">Status</h2>
<p><a href="https://github.com/luapower/winapi/issues/26">Current status</a> and <a href="https://github.com/luapower/winapi/issues">issues</a>.</p>
<h2 id="hello-world">Hello World</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode lua"><code class="sourceCode lua"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">local</span> winapi <span class="op">=</span> <span class="fu">require</span><span class="st">&#39;winapi&#39;</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">require</span><span class="st">&#39;winapi.windowclass&#39;</span></span>
<span id="cb1-3"><a href="#cb1-3"></a></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="kw">local</span> win <span class="op">=</span> winapi<span class="op">.</span>Window<span class="op">{</span></span>
<span id="cb1-5"><a href="#cb1-5"></a>   w <span class="op">=</span> <span class="dv">500</span><span class="op">,</span>                <span class="co">--all these are &quot;initial fields&quot;</span></span>
<span id="cb1-6"><a href="#cb1-6"></a>   h <span class="op">=</span> <span class="dv">300</span><span class="op">,</span></span>
<span id="cb1-7"><a href="#cb1-7"></a>   title <span class="op">=</span> <span class="st">&#39;Lua rulez&#39;</span><span class="op">,</span></span>
<span id="cb1-8"><a href="#cb1-8"></a>   autoquit <span class="op">=</span> <span class="kw">true</span><span class="op">,</span>        <span class="co">--this is to quit app when the window is closed</span></span>
<span id="cb1-9"><a href="#cb1-9"></a>   visible <span class="op">=</span> <span class="kw">false</span><span class="op">,</span>        <span class="co">--this field is from BaseWindow</span></span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="op">}</span></span>
<span id="cb1-11"><a href="#cb1-11"></a></span>
<span id="cb1-12"><a href="#cb1-12"></a><span class="kw">function</span> win<span class="op">:</span>on_close<span class="op">()</span>    <span class="co">--this is an event handler</span></span>
<span id="cb1-13"><a href="#cb1-13"></a>   <span class="fu">print</span><span class="st">&#39;Bye&#39;</span></span>
<span id="cb1-14"><a href="#cb1-14"></a><span class="cf">end</span></span>
<span id="cb1-15"><a href="#cb1-15"></a></span>
<span id="cb1-16"><a href="#cb1-16"></a><span class="fu">print</span><span class="op">(</span>win<span class="op">.</span>title<span class="op">)</span>           <span class="co">--this is how to read the value of a property</span></span>
<span id="cb1-17"><a href="#cb1-17"></a>win<span class="op">.</span>title <span class="op">=</span> <span class="st">&#39;Lua rulez!&#39;</span>   <span class="co">--this is how to set the value of a property</span></span>
<span id="cb1-18"><a href="#cb1-18"></a>win<span class="op">:</span>show<span class="op">()</span>                 <span class="co">--this is a method call</span></span>
<span id="cb1-19"><a href="#cb1-19"></a></span>
<span id="cb1-20"><a href="#cb1-20"></a><span class="fu">os.exit</span><span class="op">(</span>winapi<span class="op">.</span>MessageLoop<span class="op">())</span> <span class="co">--start the message loop</span></span></code></pre></div>
<h2 id="demos">Demos</h2>
<p>Check out <a href="https://github.com/luapower/winapi/blob/master/winapi_demo.lua">winapi_demo</a> to see all the controls in action:</p>
<figure>
<img src="/files/luapower/media/www/winapi_demo.png" alt="" /><figcaption>screnshot</figcaption>
</figure>
<p>Also, many modules can be run as standalone scripts, which will showcase their functionality, so there’s lots of little demos there too.</p>
<h2 id="documentation">Documentation</h2>
<h3 id="architecture">Architecture</h3>
<ul>
<li><a href="/winapi_design">winapi_design</a> - hi-level overview of the library</li>
<li><a href="/winapi_binding">winapi_binding</a> - how the binding works, aka developer documentation</li>
<li><a href="/winapi_history">winapi_history</a> - the reasoning behind various design decisions</li>
</ul>
<h3 id="classes">Classes</h3>
<ul>
<li><a href="/winapi.vobject">VObject</a> - objects with virtual properties
<ul>
<li><a href="/winapi.basewindowclass">BaseWindow</a> - base class for top-level windows and controls
<ul>
<li><a href="/winapi.windowclass">Window</a> - final class for top level windows</li>
<li><a href="/winapi.controlclass">Control</a> - base class for controls
<ul>
<li><a href="/winapi.panelclass">Panel</a> - custom-painted child windows
<ul>
<li><a href="/winapi.bitmappanel">BitmapPanel</a> - RGBA <a href="/bitmap">bitmap</a> panels
<ul>
<li><a href="/winapi.cairopanel">CairoPanel</a> - <a href="/cairo">cairo</a> panels</li>
</ul></li>
<li><a href="/winapi.wglpanel">WGLPanel</a> - <a href="/opengl">OpenGL</a> panels</li>
</ul></li>
<li><a href="/winapi.labelclass">Label</a> - labels</li>
<li><a href="/winapi.basebuttonclass">BaseButton</a> - base class for buttons
<ul>
<li><a href="/winapi.buttonclass">Button</a> - push-buttons</li>
<li><a href="/winapi.checkboxclass">CheckBox</a> - checkboxes</li>
<li><a href="/winapi.radiobuttonclass">RadioButton</a> - radio buttons</li>
<li><a href="/winapi.groupboxclass">GroupBox</a> - group boxes</li>
</ul></li>
<li><a href="/winapi.editclass">Edit</a> - edit boxes</li>
<li><a href="/winapi.comboboxclass">ComboBox</a> - combo boxes and drop-down lists</li>
<li><a href="/winapi.listboxclass">ListBox</a> - list boxes</li>
<li>[ListView][winapi.listviewclass] - list views</li>
<li>[TabControl][winapi.tabcontrolclass] - tab bars</li>
<li>[Toolbar][winapi.toolbarclass] - toolbars</li>
</ul></li>
<li>[Tooltip][winapi.tooltipclass] - tooltips</li>
</ul></li>
<li>[Menu][winapi.menuclass] - menus and menu bars</li>
<li>[NotifyIcon][winapi.notifyiconclass] - system tray icons</li>
</ul></li>
</ul>
<h3 id="functions">Functions</h3>
<p>The “proc” layer is documented in the code, including API quirks and empirical knowledge, so do check out the source code.</p>
<h2 id="modules">Modules</h2>
<p>{{{module_list}}}</p>
