<h2 id="require"><code>require'$'</code></h2>
<p>Requires the minimum amount of modules that every Lua application seems to need and makes a lot of symbols global. Run the script standalone with <code>luajit $.lua</code> to get a listing of all the symbols (which you can then paste into your editor config file for syntax highlighting).</p>
<p>Libraries don’t use this module in an attempt to lower dependency count, avoid polluting the global namespace and improve readability. Apps don’t care about all that and would rather establish a base vocabulary to use everywhere, so they might welcome this module.</p>
<p>What libraries usually do instead of loading this module:</p>
<ul>
<li>require the ffi module every goddamn time (and maybe the bit module).</li>
<li>copy-paste a few tools from <a href="/glue">glue</a> to avoid bringing in the whole kitchen.</li>
<li>put used symbols into locals (also for speed when code is interpreted).</li>
</ul>
<p>Note that the standard Lua <code>module</code> function is replaced with a function with entirely different semantics.</p>
<h2 id="anyway-the-api">Anyway, the API</h2>
<table>
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>modules</strong></td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: left;">ffi</td>
<td>require’ffi’</td>
</tr>
<tr class="odd">
<td style="text-align: left;">bit</td>
<td>require’bit’</td>
</tr>
<tr class="even">
<td style="text-align: left;">glue</td>
<td>require’glue’</td>
</tr>
<tr class="odd">
<td style="text-align: left;">pp</td>
<td>require’pp’</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>math</strong></td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: left;">floor</td>
<td>math.floor</td>
</tr>
<tr class="even">
<td style="text-align: left;">ceil</td>
<td>math.ceil</td>
</tr>
<tr class="odd">
<td style="text-align: left;">min</td>
<td>math.min</td>
</tr>
<tr class="even">
<td style="text-align: left;">max</td>
<td>math.max</td>
</tr>
<tr class="odd">
<td style="text-align: left;">abs</td>
<td>math.abs</td>
</tr>
<tr class="even">
<td style="text-align: left;">sqrt</td>
<td>math.sqrt</td>
</tr>
<tr class="odd">
<td style="text-align: left;">random</td>
<td>math.random</td>
</tr>
<tr class="even">
<td style="text-align: left;">randomseed</td>
<td>math.randomseed</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>arrays</strong></td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: left;">concat</td>
<td>table.concat</td>
</tr>
<tr class="odd">
<td style="text-align: left;">insert</td>
<td>table.insert</td>
</tr>
<tr class="even">
<td style="text-align: left;">remove</td>
<td>table.remove</td>
</tr>
<tr class="odd">
<td style="text-align: left;">shift</td>
<td>glue.shift</td>
</tr>
<tr class="even">
<td style="text-align: left;">add</td>
<td>table.insert</td>
</tr>
<tr class="odd">
<td style="text-align: left;">push</td>
<td>table.insert</td>
</tr>
<tr class="even">
<td style="text-align: left;">pop</td>
<td>table.remove</td>
</tr>
<tr class="odd">
<td style="text-align: left;">append</td>
<td>glue.append</td>
</tr>
<tr class="even">
<td style="text-align: left;">extend</td>
<td>glue.extend</td>
</tr>
<tr class="odd">
<td style="text-align: left;">sort</td>
<td>table.sort</td>
</tr>
<tr class="even">
<td style="text-align: left;">indexof</td>
<td>glue.indexof</td>
</tr>
<tr class="odd">
<td style="text-align: left;">map</td>
<td>glue.map</td>
</tr>
<tr class="even">
<td style="text-align: left;">pack</td>
<td>glue.pack</td>
</tr>
<tr class="odd">
<td style="text-align: left;">unpack</td>
<td>glue.unpack</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>tables</strong></td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: left;">update</td>
<td>glue.update</td>
</tr>
<tr class="even">
<td style="text-align: left;">merge</td>
<td>glue.merge</td>
</tr>
<tr class="odd">
<td style="text-align: left;">attr</td>
<td>glue.attr</td>
</tr>
<tr class="even">
<td style="text-align: left;">count</td>
<td>glue.count</td>
</tr>
<tr class="odd">
<td style="text-align: left;">index</td>
<td>glue.index</td>
</tr>
<tr class="even">
<td style="text-align: left;">keys</td>
<td>glue.keys</td>
</tr>
<tr class="odd">
<td style="text-align: left;">sortedpairs</td>
<td>glue.sortedpairs</td>
</tr>
<tr class="even">
<td style="text-align: left;">map</td>
<td>glue.map</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>strings</strong></td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: left;">format</td>
<td>string.format</td>
</tr>
<tr class="odd">
<td style="text-align: left;">_</td>
<td>string.format</td>
</tr>
<tr class="even">
<td style="text-align: left;">rep</td>
<td>string.rep</td>
</tr>
<tr class="odd">
<td style="text-align: left;">char</td>
<td>string.char</td>
</tr>
<tr class="even">
<td style="text-align: left;">esc</td>
<td>glue.esc</td>
</tr>
<tr class="odd">
<td style="text-align: left;">s:starts</td>
<td>glue.starts</td>
</tr>
<tr class="even">
<td style="text-align: left;">s:ends</td>
<td>glue.ends</td>
</tr>
<tr class="odd">
<td style="text-align: left;">s:trim</td>
<td>glue.trim</td>
</tr>
<tr class="even">
<td style="text-align: left;">s:lines</td>
<td>glue.lines</td>
</tr>
<tr class="odd">
<td style="text-align: left;">s:esc</td>
<td>glue.esc</td>
</tr>
<tr class="even">
<td style="text-align: left;">s:fromhex</td>
<td>glue.fromhex</td>
</tr>
<tr class="odd">
<td style="text-align: left;">s:tohex</td>
<td>glue.tohex</td>
</tr>
<tr class="even">
<td style="text-align: left;">s:subst</td>
<td>glue.subst</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>coroutines</strong></td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: left;">cocreate</td>
<td>coroutine.create</td>
</tr>
<tr class="odd">
<td style="text-align: left;">cowrap</td>
<td>coroutine.wrap</td>
</tr>
<tr class="even">
<td style="text-align: left;">resume</td>
<td>coroutine.resume</td>
</tr>
<tr class="odd">
<td style="text-align: left;">yield</td>
<td>coroutine.yield</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>stubs</strong></td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: left;">noop</td>
<td>glue.noop</td>
</tr>
<tr class="even">
<td style="text-align: left;">pass</td>
<td>glue.pass</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>caching</strong></td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: left;">memoize</td>
<td>glue.memoize</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>bit</strong></td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: left;">bnot</td>
<td>bit.bnot</td>
</tr>
<tr class="odd">
<td style="text-align: left;">shl</td>
<td>bit.lshift</td>
</tr>
<tr class="even">
<td style="text-align: left;">shr</td>
<td>bit.rshift</td>
</tr>
<tr class="odd">
<td style="text-align: left;">band</td>
<td>bit.band</td>
</tr>
<tr class="even">
<td style="text-align: left;">bor</td>
<td>bit.bor</td>
</tr>
<tr class="odd">
<td style="text-align: left;">xor</td>
<td>bit.bxor</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>ffi</strong></td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: left;">cast</td>
<td>ffi.cast</td>
</tr>
<tr class="even">
<td style="text-align: left;">Windows</td>
<td>ffi.os == ‘Windows’</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Linux</td>
<td>ffi.os == ‘Linux’</td>
</tr>
<tr class="even">
<td style="text-align: left;">OSX</td>
<td>ffi.os == ‘OSX’</td>
</tr>
<tr class="odd">
<td style="text-align: left;">BSD</td>
<td>ffi.os == ‘BSD’</td>
</tr>
<tr class="even">
<td style="text-align: left;">POSIX</td>
<td>ffi.os == ‘POSIX’</td>
</tr>
<tr class="odd">
<td style="text-align: left;">win</td>
<td>Windows</td>
</tr>
<tr class="even">
<td style="text-align: left;">addr</td>
<td>glue.addr</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ptr</td>
<td>glue.ptr</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>modules</strong></td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: left;">module</td>
<td>glue.module</td>
</tr>
<tr class="even">
<td style="text-align: left;">autoload</td>
<td>glue.autoload</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>objects</strong></td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: left;">inherit</td>
<td>glue.inherit</td>
</tr>
<tr class="odd">
<td style="text-align: left;">object</td>
<td>glue.object</td>
</tr>
<tr class="even">
<td style="text-align: left;">before</td>
<td>glue.before</td>
</tr>
<tr class="odd">
<td style="text-align: left;">after</td>
<td>glue.after</td>
</tr>
<tr class="even">
<td style="text-align: left;">override</td>
<td>glue.override</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>debugging</strong></td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: left;">traceback</td>
<td>debug.traceback</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>date/time</strong></td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: left;">date</td>
<td>os.date</td>
</tr>
<tr class="odd">
<td style="text-align: left;">time</td>
<td>glue.time</td>
</tr>
<tr class="even">
<td style="text-align: left;">day</td>
<td>glue.day</td>
</tr>
<tr class="odd">
<td style="text-align: left;">month</td>
<td>glue.month</td>
</tr>
<tr class="even">
<td style="text-align: left;">year</td>
<td>glue.year</td>
</tr>
<tr class="odd">
<td style="text-align: left;">clock</td>
<td>time.clock</td>
</tr>
<tr class="even">
<td style="text-align: left;">sleep</td>
<td>time.sleep</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>file i/o</strong></td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: left;">canopen</td>
<td>glue.canopen</td>
</tr>
<tr class="odd">
<td style="text-align: left;">readfile</td>
<td>glue.readfile</td>
</tr>
<tr class="even">
<td style="text-align: left;">writefile</td>
<td>glue.writefile</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>exec</strong></td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: left;">readpipe</td>
<td>glue.readpipe</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>termination</strong></td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: left;">exit</td>
<td>os.exit</td>
</tr>
</tbody>
</table>
