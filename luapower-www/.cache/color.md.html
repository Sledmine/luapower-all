<h2 id="local-color-requirecolor"><code>local color = require'color'</code></h2>
<p>Color parsing, formatting, conversion and computation in HSL, HSV and RGB color spaces.</p>
<p>Quick facts:</p>
<ul>
<li>color spaces: <code>'hsl'</code>, <code>'hsv'</code>, <code>'rgb'</code>.</li>
<li><code>r, g, b, s, L, v</code> are in <code>0..1</code> range, <code>h</code> is in <code>0..360</code> range.</li>
<li>color formats: <code>'#'</code>, <code>'#rrggbbaa'</code>, <code>'#rrggbb'</code>, <code>'#rgba'</code>, <code>'#rgb'</code>, <code>'#g'</code>, <code>'#gg'</code>, <code>'rgba32'</code>, <code>'argb32'</code> <code>'rgba'</code>, <code>'rgb'</code>, <code>'rgba%'</code>, <code>'rgb%'</code>, <code>'hsla'</code>, <code>'hsl'</code>, <code>'hsla%'</code>, <code>'hsl%'</code>.</li>
</ul>
<h2 id="api">API</h2>
<table>
<tbody>
<tr class="odd">
<td><code>color.parse(str[, space]) -&gt; [space, ]x, y, z[, a]</code></td>
<td style="text-align: left;">parse color string</td>
</tr>
<tr class="even">
<td><code>color.convert(dspace, sspace, x, y, z[, a]) -&gt; ...</code></td>
<td style="text-align: left;">convert color from sspace to dspace</td>
</tr>
<tr class="odd">
<td><code>color.format([fmt], space, x, y, z[, a]) -&gt; s</code></td>
<td style="text-align: left;">format color (see above)</td>
</tr>
<tr class="even">
<td><code>color.clamp(space, x, y, z[, a]) -&gt; x, y, z[, a]</code></td>
<td style="text-align: left;">clamp values to color space</td>
</tr>
</tbody>
</table>
<p><strong>NOTE</strong>: x, y, z means r, g, b in the <code>'rgb'</code> color space, h, s, L in the <code>'hsl'</code> color space and h, s, v in the <code>'hsv'</code> color space.</p>
<p><strong>NOTE</strong>: When alpha is missing, the color has no alpha when formatting or clamping.</p>
<h2 id="color-objects">Color objects</h2>
<table>
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>constructors</strong></td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>color(str) -&gt; col</code></td>
<td>create a HSL color object from a string</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>color([space, ]x, y, z[, a]) -&gt; col</code></td>
<td>create a HSL color object from discrete values</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>color([space, ]{x, y, z[, a]}) -&gt; col</code></td>
<td>create a HSL color object from a table</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>color.hsl(h, s, L[, a]) -&gt; col</code></td>
<td>calls <code>color('hsl', h, s, L, a)</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>color.hsv(h, s, v[, a]) -&gt; col</code></td>
<td>calls <code>color('hsv', h, s, v, a)</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>color.rgb(r, g, b[, a]) -&gt; col</code></td>
<td>calls <code>color('rgb', r, g, b, a)</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>fields</strong></td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>col.h, col.s, col.L, col.a</code></td>
<td>color fields (for reading and writing)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>col() -&gt; h, s, L[, a]</code></td>
<td>color fields unpacked</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>conversion</strong></td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>col:hsl() -&gt; h, s, L</code></td>
<td>color fields unpacked without alpha</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>col:hsla() -&gt; h, s, L, a</code></td>
<td>color fields unpacked with alpha</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>col:hsv() -&gt; h, s, v</code></td>
<td>convert to HSV</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>col:rgb() -&gt; r, g, b</code></td>
<td>convert to RGB</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>col:hsva() -&gt; h, s, v, a</code></td>
<td>convert to HSVA</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>col:rgba() -&gt; r, g, b, a</code></td>
<td>convert to RGBA</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>formatting</strong></td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>col:format([fmt]) -&gt; str</code></td>
<td>convert to string</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>tostring(col) -&gt; str</code></td>
<td>calls <code>col:format'#'</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>computation in HSL space</strong></td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>col:hue_offset(hue_delta) -&gt; color</code></td>
<td>create a color with a different hue (in degrees)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>col:complementary() -&gt; color</code></td>
<td>create a complementary color</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>col:neighbors(angle) -&gt; color1, color2</code></td>
<td>create two neighboring colors (by hue), offset by “angle”</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>col:triadic() -&gt; color1, color2</code></td>
<td>create two new colors to make a triadic color scheme</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>col:split_complementary(angle) -&gt; color1, color2</code></td>
<td>create two new colors, offset by angle from a color’s complementary</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>col:desaturate_to(saturation) -&gt; color</code></td>
<td>create a new color with saturation set to a new value</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>col:desaturate_by(r) -&gt; color</code></td>
<td>create a new color with saturation set to a old saturation times r</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>col:lighten_to(lightness) -&gt; color</code></td>
<td>create a new color with lightness set to a new value</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>col:lighten_by(r) -&gt; color</code></td>
<td>create a new color with lightness set to its lightness times r</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>col:bw([whiteL]) -&gt; color</code></td>
<td>create a new color with lightness either 0 or 1 based on whiteL threshold</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>col:variations(f, n) -&gt; {color1, ...}</code></td>
<td>create n variations of a color using supplied function and return them as a table</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>col:tints(n) -&gt; {color1, ...}</code></td>
<td>create n tints of a color and return them as a table</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>col:shades(n) -&gt; {color1, ...}</code></td>
<td>create n shades of a color and return them as a table</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>col:tint(r) -&gt; color</code></td>
<td>create a color tint</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>col:shade(r) -&gt; color</code></td>
<td>create a color shade</td>
</tr>
</tbody>
</table>
